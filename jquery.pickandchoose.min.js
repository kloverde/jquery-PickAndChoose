/*
 * PickAndChoose v1.1
 * https://www.github.com/kloverde/jquery-PickAndChoose
 *
 * This software is licensed under the 3-clause BSD license.
 *
 * Copyright (c) 2016 Kurtis LoVerde
 * All rights reserved
 *
 * Donations:  https://paypal.me/KurtisLoVerde/6
 */
!function(e){"use strict";e.fn.pickAndChoose=function(t){function n(t){var n="PickAndChoose error in "+e(r).prop("id")+":  "+t;throw u.showErrors&&r.append(n),n}function l(t){for(var l=0;l<t.length;l++)for(var s=e(t[l]).text(),a=l+1;a<t.length;a++)if(s===e(t[a]).text()){var c=e(t).parent();n(c.prop("id")+" has duplicate key '"+s+"'")}}function s(t,l){for(var s=0;s<t.length;s++)for(var a=e(t[s]).text(),c=0;c<l.length;c++)if(a===e(l[c]).text()){var o=e(t[0]).parent(),d=e(l[0]).parent();n(o.prop("id")+" and "+d.prop("id")+" have the same key '"+a+"'")}}function a(t,a){if(u.createSelectElements){var c=u.unselectedItems,o=u.selectedItems;null!=c&&null!=o&&e.each(c,function(t,l){e.each(o,function(e,l){t===e&&n("settings.unselectedItems and settings.selectedItems have the same key '"+t+"'")})})}else{(null==t||0===t.length)&&n("Could not find '"+u.unselectedId+"'"),(null==a||0===a.length)&&n("Could not find '"+u.selectedId+"'");var c=t.find("option"),o=a.find("option");l(c),l(o),s(c,o)}}function c(){var t=null,n=null;u.createSelectElements||(t=e("#"+u.unselectedId),n=e("#"+u.selectedId)),a(t,n);var l=e("<div/>"),s=e("<div/>"),c=e("<div/>");u.createSelectElements&&(t=e("<select/>",{id:u.unselectedId,name:u.unselectedName}),null!=u.unselectedItems&&e.each(u.unselectedItems,function(n,l){t.append(e("<option/>").text(n).prop("value",l))}),n=e("<select/>",{id:u.selectedId,name:u.selectedName}),null!=u.selectedItems&&e.each(u.selectedItems,function(t,l){n.append(e("<option></option>").text(t).prop("value",l))})),t.prop("multiple",!0),n.prop("multiple",!0),t.appendTo(l),n.appendTo(c);var C=e("<button/>",{text:u.buttonSelectText,type:"button"}),f=e("<button/>",{text:u.buttonSelectAllText,type:"button"}),b=e("<button/>",{text:u.buttonDeselectText,type:"button"}),h=e("<button/>",{text:u.buttonDeselectAllText,type:"button"});C.on("click",function(){o(p,t,n)}),f.on("click",function(){d(p,t,n)}),b.on("click",function(){o(i,n,t)}),h.on("click",function(){d(i,n,t)}),C.appendTo(s),f.appendTo(s),b.appendTo(s),h.appendTo(s),u.addCssClasses&&(r.addClass(u.containerClass),l.addClass(u.unselectedContainerClass),s.addClass(u.buttonContainerClass),c.addClass(u.selectedContainerClass),C.addClass(u.buttonSelectClass),f.addClass(u.buttonSelectAllClass),b.addClass(u.buttonDeselectClass),h.addClass(u.buttonDeselectAllClass)),r.append(l),r.append(s),r.append(c)}function o(t,n,l){var s=n.find("option:selected"),a=new Array(s.length),c=0;s.each(function(){var t=e(this),n=new Object;n.key=t.text(),n.value=t.val(),a[c++]=n,t.appendTo(l)}),"function"==typeof u.onChangeCallback&&a.length>0&&u.onChangeCallback(t,l,a)}function d(t,n,l){n.find("option").each(function(){e(this).prop("selected",!0)}),o(t,n,l)}var u=e.extend({addCssClasses:!0,containerClass:"pacContainer",unselectedContainerClass:"pacUnselectedContainer",selectedContainerClass:"pacSelectedContainer",buttonContainerClass:"pacButtonContainer",buttonSelectClass:"pacButtonSelect",buttonSelectAllClass:"pacButtonSelectAll",buttonDeselectClass:"pacButtonDeselect",buttonDeselectAllClass:"pacButtonDeselectAll",buttonSelectText:">",buttonSelectAllText:">>",buttonDeselectText:"<",buttonDeselectAllText:"<<",createSelectElements:!0,unselectedId:"pacUnselectedItems",unselectedName:"pacUnselectedItems",selectedId:"pacSelectedItems",selectedName:"pacSelectedItems",unselectedItems:null,selectedItems:null,onChangeCallback:null,showErrors:!1},t),p="select",i="deselect",r=this;c()}}(jQuery);
